{"version":3,"file":"layerStyle-4f780c8c.js","sources":["../../components/core/layerStyle/layerStyle.js"],"sourcesContent":["import { emitCustomEvent, waitForElementAndExecute } from '../helper.js';\nimport { featureLayersGroup, map, view } from '../mapSetup/mapSetup.js';\n\nimport Alpine from 'alpinejs';\nimport Polygon from 'ol/geom/Polygon.js';\nimport feather from 'feather-icons';\nimport proj4 from 'proj4';\nimport { renderMarkupAndSetPluginReady } from '../../core/helper.js'\n\nfunction isValid4326Coordinates(coordinates) {\n  if (!Array.isArray(coordinates)) return false;\n\n  for (const coord of coordinates) {\n    if (!Array.isArray(coord) || coord.length !== 2) return false;\n    const [longitude, latitude] = coord;\n    if (\n      typeof latitude !== 'number' || isNaN(latitude) || latitude < -90 || latitude > 90 ||\n      typeof longitude !== 'number' || isNaN(longitude) || longitude < -180 || longitude > 180\n    ) {\n      return false;\n    }\n  }\n  return true;\n}\n\nconst transformExtent = (extent, sourceSRID) => {\n  const targetProjection = 'EPSG:3857';\n  return extent.map(subArray => {\n    const coord = proj4(sourceSRID, targetProjection, subArray);\n    console.log(coord)\n    return [coord[0], coord[1]];\n  });\n}\n\nconst createOffCanvasMarkup = () => {\n  let layerPanelStyleBodyMarkup = `\n    <div class=\"\" id=\"layerPanelContainerStyleBody\" x-show=\"$store.layerPanelContainer.sectionActive == 'layer-style'\">\n            <div class=\"offcanvas-body p-3\">\n                Styles are not implemented yet :()\n            </div>\n      </div>`;\n\n  console.log('adding style panel markup to DOM')\n\n  var layerPanelCOntainerNavBody = document.getElementById('layerPanelContainerBody');\n  layerPanelCOntainerNavBody.insertAdjacentHTML('beforeend', layerPanelStyleBodyMarkup);\n\n  // waitForElementAndExecute('layerPanelContainerBody')\n  // .then(() => {\n  //   var layerPanelCOntainerNavBody = document.getElementById('layerPanelContainerBody');\n  //   layerPanelCOntainerNavBody.insertAdjacentHTML('beforeend', layerPanelStyleBodyMarkup);\n  //   console.log('- layerPanelStyleBodyMarkup added')\n  // })\n  // .catch((error) => {\n  //   console.error(error.message);\n  // });\n}\n\nconst createButtonMarkup = () => {\n    let toggleLayerContainerStyleBtn = `\n        <button \n        type=\"button\" \n        id=\"layerPanelNavStyleButton\"\n        :class=\"{'bg-light' : $store.layerPanelContainer.sectionActive == 'layer-style',\n        ['order-' + $store.layerStyle.buttonDomOrder]: true}\"\n        class=\"btn btn-inactive btn-square-md rounded-0 m-0 border-0 shadow-none text-dark d-block\"\n        @click=\"$store.layerPanelContainer.setSectionActive('layer-style')\"\">    \n        <i data-feather=\"pen-tool\" class=\"size-16\"></i>\n    </button>\n\n    `;\n    \n    var layerPanelCOntainerNavBody = document.getElementById('layerPanelContainerNavBar');\n    layerPanelCOntainerNavBody.insertAdjacentHTML('beforeend', toggleLayerContainerStyleBtn);\n\n    // waitForElementAndExecute('layerPanelContainerNavBar')\n    // .then(() => {\n    //   var layerPanelCOntainerNavBody = document.getElementById('layerPanelContainerNavBar');\n    //   layerPanelCOntainerNavBody.insertAdjacentHTML('beforeend', toggleLayerContainerStyleBtn);\n    //   console.log('- toggleLayerContainerStyleBtn added')\n    // })\n    // .catch((error) => {\n    //   console.error(error.message);\n    // });\n\n}\n\n\n\nconst initialize = async (buttonDomOrder) => {\n\n  Alpine.store('layerStyle', {\n    buttonDomOrder: buttonDomOrder,\n  });\n\n  const domElementsToCreate = [\n    [createOffCanvasMarkup, '#layerPanelContainerStyleBody'],\n    [createButtonMarkup, '#layerPanelNavStyleButton'],\n  ]\n  renderMarkupAndSetPluginReady(domElementsToCreate)\n\n\n};\n\nexport { initialize };\n"],"names":["createOffCanvasMarkup","layerPanelStyleBodyMarkup","layerPanelCOntainerNavBody","createButtonMarkup","toggleLayerContainerStyleBtn","initialize","buttonDomOrder","Alpine","renderMarkupAndSetPluginReady"],"mappings":"yGAkCA,MAAMA,EAAwB,IAAM,CAClC,IAAIC,EAA4B;AAAA;AAAA;AAAA;AAAA;AAAA,cAOhC,QAAQ,IAAI,kCAAkC,EAE9C,IAAIC,EAA6B,SAAS,eAAe,yBAAyB,EAClFA,EAA2B,mBAAmB,YAAaD,CAAyB,CAWtF,EAEME,EAAqB,IAAM,CAC7B,IAAIC,EAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAanC,IAAIF,EAA6B,SAAS,eAAe,2BAA2B,EACpFA,EAA2B,mBAAmB,YAAaE,CAA4B,CAY3F,EAIMC,EAAa,MAAOC,GAAmB,CAE3CC,EAAO,MAAM,aAAc,CACzB,eAAgBD,CACpB,CAAG,EAMDE,EAJ4B,CAC1B,CAACR,EAAuB,+BAA+B,EACvD,CAACG,EAAoB,2BAA2B,CACjD,CACgD,CAGnD"}