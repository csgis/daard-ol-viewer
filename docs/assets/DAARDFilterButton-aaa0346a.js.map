{"version":3,"file":"DAARDFilterButton-aaa0346a.js","sources":["../../components/contrib/DAARDFilterButton/DAARDFilterButton.js"],"sourcesContent":["import { emitCustomEvent, renderMarkupAndSetPluginReady } from '../../core/helper.js'\nimport {featureLayersGroup, map, view} from '../../core/mapSetup/mapSetup.js'\n\nimport Alpine from 'alpinejs';\nimport feather from 'feather-icons';\nimport { fromLonLat } from 'ol/proj.js';\n\nconst createMarkup = () => {\n    // define plugin html markup\n    const buttonHtml = `\n        <div class=\"mx-1\" id=\"DAARDFilterButtonNav\" :class=\"'order-'+$store.DAARDFilterButton.buttonDomOrder\">\n            <button type=\"button\" \n                class=\"btn btn-danger btn-sm btn-circle\" \n                x-tooltip.placement.left=\"'Filter disease cases'\"\n                @click=\"$store.DAARDFilterButton.openFilter()\"\n                :class=\"$store.DAARDFilterButton.componentIsActive ? 'bg-danger' : 'btn-light'\">\n                <i data-feather=\"filter\" class=\"size-16\"></i>\n            </button>\n        </div>\n        `;\n\n    // insert the plugin markup where we need it\n    var rightMiddleSlot = document.getElementById('rightMiddleSlot');\n    rightMiddleSlot.insertAdjacentHTML('beforeend', buttonHtml);\n}\n\n\n// create a plugin store by use of alpinejs â€“ name the store like the folder of your plugin\nconst initialize = async (buttonDomOrder) => {\n    \n    Alpine.store('DAARDFilterButton', {\n        componentIsActive: false,\n        buttonDomOrder: buttonDomOrder,\n        openFilter: function() {\n            \n            const layer = featureLayersGroup.getLayers().getArray()[1];\n            const source = layer.getSource();\n            source.mapName = layer.get('name');\n            source.dataset = layer.get('dataset');\n            emitCustomEvent('filterPushed', {\"instance\": source})\n        }\n    });\n\n    // [function name that creates the DOM Element, Element to check for presence}\n    const domElementsToCreate = [\n        [createMarkup, '#DAARDFilterButtonNav'],\n    ]\n\n    // this function tirggers the rendering and tells main.js that initialization is finished\n    renderMarkupAndSetPluginReady(domElementsToCreate)\n\n};\n\n\nexport { initialize };\n"],"names":["createMarkup","buttonHtml","rightMiddleSlot","initialize","buttonDomOrder","Alpine","layer","featureLayersGroup","source","emitCustomEvent","renderMarkupAndSetPluginReady"],"mappings":"sFAOA,MAAMA,EAAe,IAAM,CAEvB,MAAMC,EAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAanB,IAAIC,EAAkB,SAAS,eAAe,iBAAiB,EAC/DA,EAAgB,mBAAmB,YAAaD,CAAU,CAC9D,EAIME,EAAa,MAAOC,GAAmB,CAEzCC,EAAO,MAAM,oBAAqB,CAC9B,kBAAmB,GACnB,eAAgBD,EAChB,WAAY,UAAW,CAEnB,MAAME,EAAQC,EAAmB,UAAW,EAAC,SAAQ,EAAG,CAAC,EACnDC,EAASF,EAAM,YACrBE,EAAO,QAAUF,EAAM,IAAI,MAAM,EACjCE,EAAO,QAAUF,EAAM,IAAI,SAAS,EACpCG,EAAgB,eAAgB,CAAC,SAAYD,CAAM,CAAC,CACvD,CACT,CAAK,EAQDE,EAL4B,CACxB,CAACV,EAAc,uBAAuB,CACzC,CAGgD,CAErD"}